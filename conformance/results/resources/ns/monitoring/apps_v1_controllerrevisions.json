[{"apiVersion":"apps/v1","data":{"spec":{"template":{"$patch":"replace","metadata":{"creationTimestamp":null,"labels":{"alertmanager":"main","app":"alertmanager"}},"spec":{"containers":[{"args":["--config.file=/etc/alertmanager/config/alertmanager.yaml","--storage.path=/alertmanager","--data.retention=120h","--cluster.listen-address=[$(POD_IP)]:9094","--web.listen-address=:9093","--web.route-prefix=/","--cluster.peer=alertmanager-main-0.alertmanager-operated:9094","--cluster.peer=alertmanager-main-1.alertmanager-operated:9094","--cluster.peer=alertmanager-main-2.alertmanager-operated:9094","--cluster.reconnect-timeout=5m"],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"image":"quay.io/prometheus/alertmanager:v0.21.0","imagePullPolicy":"IfNotPresent","livenessProbe":{"failureThreshold":10,"httpGet":{"path":"/-/healthy","port":"web","scheme":"HTTP"},"periodSeconds":10,"successThreshold":1,"timeoutSeconds":3},"name":"alertmanager","ports":[{"containerPort":9093,"name":"web","protocol":"TCP"},{"containerPort":9094,"name":"mesh-tcp","protocol":"TCP"},{"containerPort":9094,"name":"mesh-udp","protocol":"UDP"}],"readinessProbe":{"failureThreshold":10,"httpGet":{"path":"/-/ready","port":"web","scheme":"HTTP"},"initialDelaySeconds":3,"periodSeconds":5,"successThreshold":1,"timeoutSeconds":3},"resources":{"requests":{"memory":"200Mi"}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"FallbackToLogsOnError","volumeMounts":[{"mountPath":"/etc/alertmanager/config","name":"config-volume"},{"mountPath":"/etc/alertmanager/certs","name":"tls-assets","readOnly":true},{"mountPath":"/alertmanager","name":"alertmanager-main-db"}]},{"args":["--listen-address=:8080","--reload-url=http://localhost:9093/-/reload","--watched-dir=/etc/alertmanager/config"],"command":["/bin/prometheus-config-reloader"],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"SHARD","value":"-1"}],"image":"quay.io/prometheus-operator/prometheus-config-reloader:v0.44.1","imagePullPolicy":"IfNotPresent","name":"config-reloader","ports":[{"containerPort":8080,"name":"reloader-web","protocol":"TCP"}],"resources":{"limits":{"cpu":"100m","memory":"50Mi"},"requests":{"cpu":"100m","memory":"50Mi"}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"FallbackToLogsOnError","volumeMounts":[{"mountPath":"/etc/alertmanager/config","name":"config-volume","readOnly":true}]}],"dnsPolicy":"ClusterFirst","nodeSelector":{"kubernetes.io/os":"linux"},"restartPolicy":"Always","schedulerName":"default-scheduler","securityContext":{"fsGroup":2000,"runAsNonRoot":true,"runAsUser":1000},"serviceAccount":"alertmanager-main","serviceAccountName":"alertmanager-main","terminationGracePeriodSeconds":120,"volumes":[{"name":"config-volume","secret":{"defaultMode":420,"secretName":"alertmanager-main-generated"}},{"name":"tls-assets","secret":{"defaultMode":420,"secretName":"alertmanager-main-tls-assets"}},{"emptyDir":{},"name":"alertmanager-main-db"}]}}}},"kind":"ControllerRevision","metadata":{"creationTimestamp":"2021-08-15T01:54:54Z","labels":{"alertmanager":"main","app":"alertmanager","controller.kubernetes.io/hash":"5c5d75fff8"},"managedFields":[{"apiVersion":"apps/v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{},"f:metadata":{"f:labels":{".":{},"f:alertmanager":{},"f:app":{},"f:controller.kubernetes.io/hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"958268a7-eacb-47ce-b803-1541df4a538c\"}":{}}},"f:revision":{}},"manager":"kube-controller-manager","operation":"Update","time":"2021-08-15T01:54:54Z"}],"name":"alertmanager-main-5c5d75fff8","namespace":"monitoring","ownerReferences":[{"apiVersion":"apps/v1","blockOwnerDeletion":true,"controller":true,"kind":"StatefulSet","name":"alertmanager-main","uid":"958268a7-eacb-47ce-b803-1541df4a538c"}],"resourceVersion":"1417","uid":"b3597c43-cd83-4c14-96ee-94913dbc57f3"},"revision":1},{"apiVersion":"apps/v1","data":{"spec":{"template":{"$patch":"replace","metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/name":"node-exporter","app.kubernetes.io/version":"v1.0.1"}},"spec":{"containers":[{"args":["--web.listen-address=127.0.0.1:9100","--path.procfs=/host/proc","--path.sysfs=/host/sys","--path.rootfs=/host/root","--no-collector.wifi","--no-collector.hwmon","--collector.filesystem.ignored-mount-points=^/(dev|proc|sys|var/lib/docker/.+|var/lib/kubelet/pods/.+)($|/)"],"image":"quay.io/prometheus/node-exporter:v1.0.1","imagePullPolicy":"IfNotPresent","name":"node-exporter","resources":{"limits":{"cpu":"250m","memory":"180Mi"},"requests":{"cpu":"102m","memory":"180Mi"}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/host/proc","mountPropagation":"HostToContainer","name":"proc","readOnly":true},{"mountPath":"/host/sys","mountPropagation":"HostToContainer","name":"sys","readOnly":true},{"mountPath":"/host/root","mountPropagation":"HostToContainer","name":"root","readOnly":true}]},{"args":["--logtostderr","--secure-listen-address=[$(IP)]:9100","--tls-cipher-suites=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305","--upstream=http://127.0.0.1:9100/"],"env":[{"name":"IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"image":"quay.io/brancz/kube-rbac-proxy:v0.8.0","imagePullPolicy":"IfNotPresent","name":"kube-rbac-proxy","ports":[{"containerPort":9100,"hostPort":9100,"name":"https","protocol":"TCP"}],"resources":{"limits":{"cpu":"20m","memory":"40Mi"},"requests":{"cpu":"10m","memory":"20Mi"}},"securityContext":{"runAsGroup":65532,"runAsNonRoot":true,"runAsUser":65532},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File"}],"dnsPolicy":"ClusterFirst","hostNetwork":true,"hostPID":true,"nodeSelector":{"kubernetes.io/os":"linux"},"restartPolicy":"Always","schedulerName":"default-scheduler","securityContext":{"runAsNonRoot":true,"runAsUser":65534},"serviceAccount":"node-exporter","serviceAccountName":"node-exporter","terminationGracePeriodSeconds":30,"tolerations":[{"operator":"Exists"}],"volumes":[{"hostPath":{"path":"/proc","type":""},"name":"proc"},{"hostPath":{"path":"/sys","type":""},"name":"sys"},{"hostPath":{"path":"/","type":""},"name":"root"}]}}}},"kind":"ControllerRevision","metadata":{"annotations":{"deprecated.daemonset.template.generation":"1"},"creationTimestamp":"2021-08-15T01:54:59Z","labels":{"app.kubernetes.io/name":"node-exporter","app.kubernetes.io/version":"v1.0.1","controller-revision-hash":"657ccbc47c"},"managedFields":[{"apiVersion":"apps/v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{},"f:metadata":{"f:annotations":{".":{},"f:deprecated.daemonset.template.generation":{}},"f:labels":{".":{},"f:app.kubernetes.io/name":{},"f:app.kubernetes.io/version":{},"f:controller-revision-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"53c70784-10ef-4908-8e93-cf3763d870b1\"}":{}}},"f:revision":{}},"manager":"kube-controller-manager","operation":"Update","time":"2021-08-15T01:54:59Z"}],"name":"node-exporter-657ccbc47c","namespace":"monitoring","ownerReferences":[{"apiVersion":"apps/v1","blockOwnerDeletion":true,"controller":true,"kind":"DaemonSet","name":"node-exporter","uid":"53c70784-10ef-4908-8e93-cf3763d870b1"}],"resourceVersion":"1571","uid":"7fbf3adb-b537-4b04-ada3-f36ddad02b17"},"revision":1},{"apiVersion":"apps/v1","data":{"spec":{"template":{"$patch":"replace","metadata":{"creationTimestamp":null,"labels":{"app":"prometheus","operator.prometheus.io/name":"k8s","operator.prometheus.io/shard":"0","prometheus":"k8s"}},"spec":{"containers":[{"args":["--web.console.templates=/etc/prometheus/consoles","--web.console.libraries=/etc/prometheus/console_libraries","--config.file=/etc/prometheus/config_out/prometheus.env.yaml","--storage.tsdb.path=/prometheus","--storage.tsdb.retention.time=24h","--web.enable-lifecycle","--storage.tsdb.no-lockfile","--web.route-prefix=/"],"image":"quay.io/prometheus/prometheus:v2.22.1","imagePullPolicy":"IfNotPresent","name":"prometheus","ports":[{"containerPort":9090,"name":"web","protocol":"TCP"}],"readinessProbe":{"failureThreshold":120,"httpGet":{"path":"/-/ready","port":"web","scheme":"HTTP"},"periodSeconds":5,"successThreshold":1,"timeoutSeconds":3},"resources":{"requests":{"memory":"400Mi"}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"FallbackToLogsOnError","volumeMounts":[{"mountPath":"/etc/prometheus/config_out","name":"config-out","readOnly":true},{"mountPath":"/etc/prometheus/certs","name":"tls-assets","readOnly":true},{"mountPath":"/prometheus","name":"prometheus-k8s-db"},{"mountPath":"/etc/prometheus/rules/prometheus-k8s-rulefiles-0","name":"prometheus-k8s-rulefiles-0"}]},{"args":["--listen-address=:8080","--reload-url=http://localhost:9090/-/reload","--config-file=/etc/prometheus/config/prometheus.yaml.gz","--config-envsubst-file=/etc/prometheus/config_out/prometheus.env.yaml","--watched-dir=/etc/prometheus/rules/prometheus-k8s-rulefiles-0"],"command":["/bin/prometheus-config-reloader"],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"SHARD","value":"0"}],"image":"quay.io/prometheus-operator/prometheus-config-reloader:v0.44.1","imagePullPolicy":"IfNotPresent","name":"config-reloader","ports":[{"containerPort":8080,"name":"reloader-web","protocol":"TCP"}],"resources":{"limits":{"cpu":"100m","memory":"50Mi"},"requests":{"cpu":"100m","memory":"50Mi"}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"FallbackToLogsOnError","volumeMounts":[{"mountPath":"/etc/prometheus/config","name":"config"},{"mountPath":"/etc/prometheus/config_out","name":"config-out"},{"mountPath":"/etc/prometheus/rules/prometheus-k8s-rulefiles-0","name":"prometheus-k8s-rulefiles-0"}]}],"dnsPolicy":"ClusterFirst","nodeSelector":{"kubernetes.io/os":"linux"},"restartPolicy":"Always","schedulerName":"default-scheduler","securityContext":{"fsGroup":2000,"runAsNonRoot":true,"runAsUser":1000},"serviceAccount":"prometheus-k8s","serviceAccountName":"prometheus-k8s","terminationGracePeriodSeconds":600,"volumes":[{"name":"config","secret":{"defaultMode":420,"secretName":"prometheus-k8s"}},{"name":"tls-assets","secret":{"defaultMode":420,"secretName":"prometheus-k8s-tls-assets"}},{"emptyDir":{},"name":"config-out"},{"configMap":{"defaultMode":420,"name":"prometheus-k8s-rulefiles-0"},"name":"prometheus-k8s-rulefiles-0"},{"emptyDir":{},"name":"prometheus-k8s-db"}]}}}},"kind":"ControllerRevision","metadata":{"annotations":{"prometheus-operator-input-hash":"3119622685575354610"},"creationTimestamp":"2021-08-15T01:55:03Z","labels":{"app":"prometheus","controller.kubernetes.io/hash":"767c74c5df","operator.prometheus.io/name":"k8s","operator.prometheus.io/shard":"0","prometheus":"k8s"},"managedFields":[{"apiVersion":"apps/v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{},"f:metadata":{"f:annotations":{".":{},"f:prometheus-operator-input-hash":{}},"f:labels":{".":{},"f:app":{},"f:controller.kubernetes.io/hash":{},"f:operator.prometheus.io/name":{},"f:operator.prometheus.io/shard":{},"f:prometheus":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"2661375d-1686-4018-b081-f996a87380b2\"}":{}}},"f:revision":{}},"manager":"kube-controller-manager","operation":"Update","time":"2021-08-15T01:55:03Z"}],"name":"prometheus-k8s-767c74c5df","namespace":"monitoring","ownerReferences":[{"apiVersion":"apps/v1","blockOwnerDeletion":true,"controller":true,"kind":"StatefulSet","name":"prometheus-k8s","uid":"2661375d-1686-4018-b081-f996a87380b2"}],"resourceVersion":"1703","uid":"31d5508b-7afa-4e36-a47d-5b757fe54617"},"revision":1}]