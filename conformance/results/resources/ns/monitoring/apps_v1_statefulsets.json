[{"apiVersion":"apps/v1","kind":"StatefulSet","metadata":{"creationTimestamp":"2021-08-15T01:54:54Z","generation":1,"labels":{"alertmanager":"main"},"managedFields":[{"apiVersion":"apps/v1","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:alertmanager":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"8a2b9dee-741d-412e-80ae-2a11d5f956a7\"}":{}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:alertmanager":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"alertmanager\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{}}}},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":9093,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9094,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9094,\"protocol\":\"UDP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/alertmanager\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/alertmanager/certs\"}":{".":{},"f:mountPath":{},"f:name":{},"f:readOnly":{}},"k:{\"mountPath\":\"/etc/alertmanager/config\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"config-reloader\"}":{".":{},"f:args":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_NAME\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{}}},"k:{\"name\":\"SHARD\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":8080,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/alertmanager/config\"}":{".":{},"f:mountPath":{},"f:name":{},"f:readOnly":{}}}}},"f:dnsPolicy":{},"f:nodeSelector":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"alertmanager-main-db\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"config-volume\"}":{".":{},"f:name":{},"f:secret":{".":{},"f:defaultMode":{},"f:secretName":{}}},"k:{\"name\":\"tls-assets\"}":{".":{},"f:name":{},"f:secret":{".":{},"f:defaultMode":{},"f:secretName":{}}}}}},"f:updateStrategy":{"f:type":{}}}},"manager":"operator","operation":"Update","time":"2021-08-15T01:54:54Z"},{"apiVersion":"apps/v1","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:availableReplicas":{},"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}},"manager":"kube-controller-manager","operation":"Update","subresource":"status","time":"2021-08-15T21:50:19Z"}],"name":"alertmanager-main","namespace":"monitoring","ownerReferences":[{"apiVersion":"monitoring.coreos.com/v1","blockOwnerDeletion":true,"controller":true,"kind":"Alertmanager","name":"main","uid":"8a2b9dee-741d-412e-80ae-2a11d5f956a7"}],"resourceVersion":"10551","uid":"958268a7-eacb-47ce-b803-1541df4a538c"},"spec":{"podManagementPolicy":"Parallel","replicas":3,"revisionHistoryLimit":10,"selector":{"matchLabels":{"alertmanager":"main","app":"alertmanager"}},"serviceName":"alertmanager-operated","template":{"metadata":{"creationTimestamp":null,"labels":{"alertmanager":"main","app":"alertmanager"}},"spec":{"containers":[{"args":["--config.file=/etc/alertmanager/config/alertmanager.yaml","--storage.path=/alertmanager","--data.retention=120h","--cluster.listen-address=[$(POD_IP)]:9094","--web.listen-address=:9093","--web.route-prefix=/","--cluster.peer=alertmanager-main-0.alertmanager-operated:9094","--cluster.peer=alertmanager-main-1.alertmanager-operated:9094","--cluster.peer=alertmanager-main-2.alertmanager-operated:9094","--cluster.reconnect-timeout=5m"],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"image":"quay.io/prometheus/alertmanager:v0.21.0","imagePullPolicy":"IfNotPresent","livenessProbe":{"failureThreshold":10,"httpGet":{"path":"/-/healthy","port":"web","scheme":"HTTP"},"periodSeconds":10,"successThreshold":1,"timeoutSeconds":3},"name":"alertmanager","ports":[{"containerPort":9093,"name":"web","protocol":"TCP"},{"containerPort":9094,"name":"mesh-tcp","protocol":"TCP"},{"containerPort":9094,"name":"mesh-udp","protocol":"UDP"}],"readinessProbe":{"failureThreshold":10,"httpGet":{"path":"/-/ready","port":"web","scheme":"HTTP"},"initialDelaySeconds":3,"periodSeconds":5,"successThreshold":1,"timeoutSeconds":3},"resources":{"requests":{"memory":"200Mi"}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"FallbackToLogsOnError","volumeMounts":[{"mountPath":"/etc/alertmanager/config","name":"config-volume"},{"mountPath":"/etc/alertmanager/certs","name":"tls-assets","readOnly":true},{"mountPath":"/alertmanager","name":"alertmanager-main-db"}]},{"args":["--listen-address=:8080","--reload-url=http://localhost:9093/-/reload","--watched-dir=/etc/alertmanager/config"],"command":["/bin/prometheus-config-reloader"],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"SHARD","value":"-1"}],"image":"quay.io/prometheus-operator/prometheus-config-reloader:v0.44.1","imagePullPolicy":"IfNotPresent","name":"config-reloader","ports":[{"containerPort":8080,"name":"reloader-web","protocol":"TCP"}],"resources":{"limits":{"cpu":"100m","memory":"50Mi"},"requests":{"cpu":"100m","memory":"50Mi"}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"FallbackToLogsOnError","volumeMounts":[{"mountPath":"/etc/alertmanager/config","name":"config-volume","readOnly":true}]}],"dnsPolicy":"ClusterFirst","nodeSelector":{"kubernetes.io/os":"linux"},"restartPolicy":"Always","schedulerName":"default-scheduler","securityContext":{"fsGroup":2000,"runAsNonRoot":true,"runAsUser":1000},"serviceAccount":"alertmanager-main","serviceAccountName":"alertmanager-main","terminationGracePeriodSeconds":120,"volumes":[{"name":"config-volume","secret":{"defaultMode":420,"secretName":"alertmanager-main-generated"}},{"name":"tls-assets","secret":{"defaultMode":420,"secretName":"alertmanager-main-tls-assets"}},{"emptyDir":{},"name":"alertmanager-main-db"}]}},"updateStrategy":{"type":"RollingUpdate"}},"status":{"availableReplicas":3,"collisionCount":0,"currentReplicas":3,"currentRevision":"alertmanager-main-5c5d75fff8","observedGeneration":1,"readyReplicas":3,"replicas":3,"updateRevision":"alertmanager-main-5c5d75fff8","updatedReplicas":3}},{"apiVersion":"apps/v1","kind":"StatefulSet","metadata":{"annotations":{"prometheus-operator-input-hash":"94131250398515906"},"creationTimestamp":"2021-08-15T01:55:03Z","generation":1,"labels":{"operator.prometheus.io/name":"k8s","operator.prometheus.io/shard":"0","prometheus":"k8s"},"managedFields":[{"apiVersion":"apps/v1","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:prometheus-operator-input-hash":{}},"f:labels":{".":{},"f:operator.prometheus.io/name":{},"f:operator.prometheus.io/shard":{},"f:prometheus":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"e288d967-c01f-4363-b596-bd0df6efdc47\"}":{}}},"f:spec":{"f:podManagementPolicy":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{},"f:serviceName":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{},"f:operator.prometheus.io/name":{},"f:operator.prometheus.io/shard":{},"f:prometheus":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"config-reloader\"}":{".":{},"f:args":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"POD_NAME\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{}}},"k:{\"name\":\"SHARD\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":8080,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/prometheus/config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/prometheus/config_out\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/prometheus/rules/prometheus-k8s-rulefiles-0\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"prometheus\"}":{".":{},"f:args":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":9090,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:requests":{".":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/prometheus/certs\"}":{".":{},"f:mountPath":{},"f:name":{},"f:readOnly":{}},"k:{\"mountPath\":\"/etc/prometheus/config_out\"}":{".":{},"f:mountPath":{},"f:name":{},"f:readOnly":{}},"k:{\"mountPath\":\"/etc/prometheus/rules/prometheus-k8s-rulefiles-0\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/prometheus\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:nodeSelector":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"config\"}":{".":{},"f:name":{},"f:secret":{".":{},"f:defaultMode":{},"f:secretName":{}}},"k:{\"name\":\"config-out\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"prometheus-k8s-db\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"prometheus-k8s-rulefiles-0\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"tls-assets\"}":{".":{},"f:name":{},"f:secret":{".":{},"f:defaultMode":{},"f:secretName":{}}}}}},"f:updateStrategy":{"f:type":{}}}},"manager":"operator","operation":"Update","time":"2021-08-15T01:55:03Z"},{"apiVersion":"apps/v1","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:availableReplicas":{},"f:collisionCount":{},"f:currentReplicas":{},"f:currentRevision":{},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updateRevision":{},"f:updatedReplicas":{}}},"manager":"kube-controller-manager","operation":"Update","subresource":"status","time":"2021-08-15T01:55:20Z"}],"name":"prometheus-k8s","namespace":"monitoring","ownerReferences":[{"apiVersion":"monitoring.coreos.com/v1","blockOwnerDeletion":true,"controller":true,"kind":"Prometheus","name":"k8s","uid":"e288d967-c01f-4363-b596-bd0df6efdc47"}],"resourceVersion":"10530","uid":"2661375d-1686-4018-b081-f996a87380b2"},"spec":{"podManagementPolicy":"Parallel","replicas":2,"revisionHistoryLimit":10,"selector":{"matchLabels":{"app":"prometheus","operator.prometheus.io/name":"k8s","operator.prometheus.io/shard":"0","prometheus":"k8s"}},"serviceName":"prometheus-operated","template":{"metadata":{"creationTimestamp":null,"labels":{"app":"prometheus","operator.prometheus.io/name":"k8s","operator.prometheus.io/shard":"0","prometheus":"k8s"}},"spec":{"containers":[{"args":["--web.console.templates=/etc/prometheus/consoles","--web.console.libraries=/etc/prometheus/console_libraries","--config.file=/etc/prometheus/config_out/prometheus.env.yaml","--storage.tsdb.path=/prometheus","--storage.tsdb.retention.time=24h","--web.enable-lifecycle","--storage.tsdb.no-lockfile","--web.route-prefix=/"],"image":"quay.io/prometheus/prometheus:v2.22.1","imagePullPolicy":"IfNotPresent","name":"prometheus","ports":[{"containerPort":9090,"name":"web","protocol":"TCP"}],"readinessProbe":{"failureThreshold":120,"httpGet":{"path":"/-/ready","port":"web","scheme":"HTTP"},"periodSeconds":5,"successThreshold":1,"timeoutSeconds":3},"resources":{"requests":{"memory":"400Mi"}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"FallbackToLogsOnError","volumeMounts":[{"mountPath":"/etc/prometheus/config_out","name":"config-out","readOnly":true},{"mountPath":"/etc/prometheus/certs","name":"tls-assets","readOnly":true},{"mountPath":"/prometheus","name":"prometheus-k8s-db"},{"mountPath":"/etc/prometheus/rules/prometheus-k8s-rulefiles-0","name":"prometheus-k8s-rulefiles-0"}]},{"args":["--listen-address=:8080","--reload-url=http://localhost:9090/-/reload","--config-file=/etc/prometheus/config/prometheus.yaml.gz","--config-envsubst-file=/etc/prometheus/config_out/prometheus.env.yaml","--watched-dir=/etc/prometheus/rules/prometheus-k8s-rulefiles-0"],"command":["/bin/prometheus-config-reloader"],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"SHARD","value":"0"}],"image":"quay.io/prometheus-operator/prometheus-config-reloader:v0.44.1","imagePullPolicy":"IfNotPresent","name":"config-reloader","ports":[{"containerPort":8080,"name":"reloader-web","protocol":"TCP"}],"resources":{"limits":{"cpu":"100m","memory":"50Mi"},"requests":{"cpu":"100m","memory":"50Mi"}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"FallbackToLogsOnError","volumeMounts":[{"mountPath":"/etc/prometheus/config","name":"config"},{"mountPath":"/etc/prometheus/config_out","name":"config-out"},{"mountPath":"/etc/prometheus/rules/prometheus-k8s-rulefiles-0","name":"prometheus-k8s-rulefiles-0"}]}],"dnsPolicy":"ClusterFirst","nodeSelector":{"kubernetes.io/os":"linux"},"restartPolicy":"Always","schedulerName":"default-scheduler","securityContext":{"fsGroup":2000,"runAsNonRoot":true,"runAsUser":1000},"serviceAccount":"prometheus-k8s","serviceAccountName":"prometheus-k8s","terminationGracePeriodSeconds":600,"volumes":[{"name":"config","secret":{"defaultMode":420,"secretName":"prometheus-k8s"}},{"name":"tls-assets","secret":{"defaultMode":420,"secretName":"prometheus-k8s-tls-assets"}},{"emptyDir":{},"name":"config-out"},{"configMap":{"defaultMode":420,"name":"prometheus-k8s-rulefiles-0"},"name":"prometheus-k8s-rulefiles-0"},{"emptyDir":{},"name":"prometheus-k8s-db"}]}},"updateStrategy":{"type":"RollingUpdate"}},"status":{"availableReplicas":2,"collisionCount":0,"currentReplicas":2,"currentRevision":"prometheus-k8s-767c74c5df","observedGeneration":1,"readyReplicas":2,"replicas":2,"updateRevision":"prometheus-k8s-767c74c5df","updatedReplicas":2}}]